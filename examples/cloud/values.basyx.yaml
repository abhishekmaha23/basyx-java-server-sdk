aas-registry:
  image:
    # Possible current options:
    # - eclipsebasyx/aas-registry-log-mongodb:2.0.0-SNAPSHOT
    # - eclipsebasyx/aas-registry-kafka-mongodb:2.0.0-SNAPSHOT - Storage - MongoDB - Event-sink- Kafka
    # - eclipsebasyx/aas-registry-log-mongodb:2.0.0-SNAPSHOT - Storage - MongoDB - Event-sink- Logging (Pod)
    # - eclipsebasyx/aas-registry-kafka-mem:2.0.0-SNAPSHOT - Storage - In-memory - Event-sink- Kafka
    # - eclipsebasyx/aas-registry-log-mem:2.0.0-SNAPSHOT - Storage - In-memory - Event-sink- Logging (Pod)

    # If Kafka is used, then the appropriate Bootstrap connection string must be provided.
    # If Mongo is used, then the appropriate MongoDB connection string must be provided.
    name: eclipsebasyx/aas-registry-log-mongodb:2.0.0-SNAPSHOT
    pullPolicy: IfNotPresent
  service:
    port: 8080
  # Keep it null if not deploying a Kafka instance.
  kafka:
    connectionString: null
  mongodb:
    connectionString: mongodb://adminUser:adminPassword@mongodb:27017
  ingress:
    enabled: true
    host: basyxregistry.example.com
  config: |-
    servlet:
      headers:
        - path: /**
          values:
            Access-Control-Allow-Origin: "*"
            Access-Control-Allow-Methods: POST,PUT,GET,DELETE,OPTIONS
            Access-Control-Allow-Headers: Content-Type, Accept
            Access-Control-Max-Age: 10000
        - path: /api/v3.0/shell-descriptors
          values:
            Access-Control-Allow-Origin: "*"
            Access-Control-Allow-Methods: POST,PUT,GET,DELETE,OPTIONS
            Access-Control-Allow-Headers: Accept, Content-Type
          methods: 
            - OPTIONS
        - path: /registry/shell-descriptors/search
          values:
            Access-Control-Allow-Origin: "*"
            Access-Control-Allow-Methods: POST,GET,OPTIONS
            Access-Control-Allow-Headers: Accept, Content-Type
          methods: 
            - OPTIONS

# Also needs an ingress.
aas-environment:
  image: 
    name: eclipsebasyx/aas-environment:2.0.0-SNAPSHOT
    pullPolicy: IfNotPresent
  startup:
    enabled: false
    # repo: "https://github.com/abhishekmaha23/bic-df-aasx-examples"
  service:
    port: 8081
  config: |-
    server.port=8081

    basyx.backend = InMemory
    # basyx.backend = MongoDB
    # spring.data.mongodb.host=mongodb
    # spring.data.mongodb.database=aas-env
    # spring.data.mongodb.authentication-database=admin
    # spring.data.mongodb.username=adminUser
    # spring.data.mongodb.password=adminPassword

    basyx.environment=file:aas
    basyx.aasrepository.feature.mqtt.enabled = true
    basyx.cors.allowed-origins=*
    basyx.cors.allowed-methods=GET,POST,PATCH,DELETE,PUT,OPTIONS,HEAD

    mqtt.clientId=AAS-Environment-BIC
    mqtt.hostname=mqtt.cluster.local
    mqtt.port=1884
    mqtt.username=user1
    mqtt.password=password1
  ingress:
    enabled: true
    host: basyx.example.com

# Needs specific ingress.
aas-web-ui:
  image:
    name: eclipsebasyx/aas-gui:v2-231107
    pullPolicy: Always
  ingress:
    enabled: true
    host: aasdashboard.example.com
  config:
    aasRepoUrl: "https://basyx.example.com/shells"
    aasSubmodelsRepoUrl: "https://basyx.example.com/submodels"
    conceptdescriptionRepoUrl: "https://basyx.example.com/concept-descriptions"
    aasRegistryUrl: "https://basyxregistry.example.com/api/v3.0"
  externalPlugins:
    enabled: true
    plugins:
    - fileName: HelloWorldPlugin.vue
      configMapName: hello-world-plugin